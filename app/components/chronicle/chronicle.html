<div ng-controller="PastQueriesMenuCtrl">
    <div id="pastQueries" ng-controller="KeywordsMenuCtrl">
        <div ng-controller="HelpCtrl" ng-mouseover="showHelp()" ng-mouseleave="hideHelp()"><h3>PastQueries</h3>
            <div class="popover" ng-show="popoverIsVisible">
                <div ng-include="'./app/components/help/helpPastQueries.html'"></div>
            </div>
        </div>
        <select id="dateSelect" ng-model="dateText">
            <option value="" disabled selected>select ...</option>
            <option value="all">all</option>
            <option value="today">today</option>
            <option value="week">this week</option>
            <option value="month">this month</option>
            <option value="older">older than a month</option>
        </select>
        <input id="searchText" placeholder="Search History" ng-model="searchText"/>
        <ul id="pastQueriesList">
            <li id="pastQueryItem" ng-repeat="query in queries | filter: searchText | filterByDate: dateText">
                <button class="queryButton" ng-click="loadQuery(query)">{{query.date + " : " + query.title}}</button>
            </li>
        </ul>
    </div>
    <br/>
    <button class="chronicleButton" ng-click="clearHistory()">Clear History</button>
    <button class="chronicleButton" ng-click="changeChronicleStatus()">{{chronicleStatus
        && 'Deactivate History' || 'Activate History'}}
    </button>
</div>
<ui-view></ui-view> <!-- AngularJS Bugfix; needed to use $stateParams -->
